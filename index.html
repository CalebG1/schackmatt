<!DOCTYPE html>
<!-- 
	Website code for www.schackmatt.net
	Currently a work-in-progress
	Until there is some real work done, there will be very limited documentation. It will come though.

	index.html
	Camden I. Wagner
	5/11/2016
-->

<html>
	<head>
		<title>schackmatt.net</title>
		<link rel="stylesheet" href="style.css">

		<script type="text/javascript">

			var board_canvas;
			var board_context;
			var SQ_DIM = 80;
			var board_img = new Image();
			board_img.src = "./img/board_640x640.png";

			var moveSrc, moveDest;

			function setup() {
				board_canvas = document.getElementById("board");
				board_context = board_canvas.getContext("2d");

				drawBoard();
				

				board_canvas.addEventListener('mousedown',function(events){
					var mousePos = getMousePos(board_canvas,events);
				});
				board_canvas.addEventListener('mouseup',function(events){
					var mousePos = getMousePos(board_canvas,events);
				});
			}

			function getMousePos(canvas,events) {
        		var obj = canvas;
        		var top = 0, left = 0;
        		var mX = 0, mY = 0;
        		while (obj && obj.tagName != 'BODY') {
        		    top += obj.offsetTop;
        		    left += obj.offsetLeft;
        		    obj = obj.offsetParent;
        		}
        		mX = events.clientX - left + window.pageXOffset;
        		mY = events.clientY - top + window.pageYOffset;
        		console.log("mouse at (" + mX + "," + mY + ")");
        		return { x: mX, y: mY };
    		}

    		function drawBoard() {
    			board_context.drawImage(board_img,0,0);
    		}


			window.addEventListener('load', setup, false);
		</script>
	</head>
	<body>
		<div id="container">

			<div>
				<h1>schackmatt.net</h1>
			</div>

			<div id="game">
			
				<canvas id="board" width="640" height="640">canvas</canvas>

			</div>
		</div>
	</body>
</html>